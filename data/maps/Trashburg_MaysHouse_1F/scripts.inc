Trashburg_MaysHouse_1F_MapScripts::
	map_script MAP_SCRIPT_ON_LOAD, Trashburg_MaysHouse_1F_OnLoad
	map_script MAP_SCRIPT_ON_TRANSITION, Trashburg_MaysHouse_1F_OnTransition
	map_script MAP_SCRIPT_ON_FRAME_TABLE, Trashburg_MaysHouse_1F_OnFrame
	.byte 0

Trashburg_MaysHouse_1F_OnLoad:
	call_if_lt VAR_TRASHBURG_INTRO_STATE, 6, Trashburg_MaysHouse_1F_EventScript_SetMovingBoxes
	call_if_set FLAG_RECEIVED_RUNNING_SHOES, Trashburg_MaysHouse_1F_EventScript_CheckShowShoesManual
	end

Trashburg_MaysHouse_1F_EventScript_SetMovingBoxes::
	setmetatile 5, 4, METATILE_BrendansMaysHouse_MovingBox_Open, TRUE
	setmetatile 5, 2, METATILE_BrendansMaysHouse_MovingBox_Closed, TRUE
	return

Trashburg_MaysHouse_1F_EventScript_CheckShowShoesManual::
	checkplayergender
	goto_if_eq VAR_RESULT, FEMALE, Trashburg_MaysHouse_1F_EventScript_ShowRunningShoesManual
	return

Trashburg_MaysHouse_1F_EventScript_ShowRunningShoesManual::
	setmetatile 6, 7, METATILE_BrendansMaysHouse_BookOnTable, TRUE
	return

Trashburg_MaysHouse_1F_OnTransition:
	call_if_eq VAR_TRASHBURG_INTRO_STATE, 3, Trashburg_MaysHouse_1F_EventScript_MoveMomToDoor
	call_if_eq VAR_TRASHBURG_INTRO_STATE, 5, Trashburg_MaysHouse_1F_EventScript_MoveMomToStairs
	call_if_eq VAR_TRASHBURG_INTRO_STATE, 6, Trashburg_MaysHouse_1F_EventScript_MoveMomToTV
	end

Trashburg_MaysHouse_1F_EventScript_MoveMomToStairs::
	setobjectxyperm LOCALID_PLAYERS_HOUSE_1F_MOM, 2, 4
	setobjectmovementtype LOCALID_PLAYERS_HOUSE_1F_MOM, MOVEMENT_TYPE_FACE_UP
	return

Trashburg_MaysHouse_1F_EventScript_MoveMomToTV::
	setobjectxyperm LOCALID_PLAYERS_HOUSE_1F_MOM, 6, 5
	setobjectmovementtype LOCALID_PLAYERS_HOUSE_1F_MOM, MOVEMENT_TYPE_FACE_UP
	return

Trashburg_MaysHouse_1F_EventScript_MoveMomToDoor::
	setobjectxyperm LOCALID_PLAYERS_HOUSE_1F_MOM, 1, 8
	setobjectmovementtype LOCALID_PLAYERS_HOUSE_1F_MOM, MOVEMENT_TYPE_FACE_UP
	return

@ Many of the below scripts have no gender check because they assume youre in the correct house
Trashburg_MaysHouse_1F_OnFrame:
	map_script_2 VAR_TRASHBURG_INTRO_STATE, 3, Trashburg_MaysHouse_1F_EventScript_EnterHouseMovingIn
	map_script_2 VAR_TRASHBURG_INTRO_STATE, 5, Trashburg_MaysHouse_1F_EventScript_GoUpstairsToSetClock
	map_script_2 VAR_TRASHBURG_INTRO_STATE, 6, Trashburg_MaysHouse_1F_EventScript_GiantsReachGymReport
	map_script_2 VAR_TRASHBURG_HOUSES_STATE_BRENDAN, 1, Trashburg_MaysHouse_1F_EventScript_YoureNewNeighbor
	map_script_2 VAR_TRASHBURG_HOUSES_STATE_MAY, 3, PlayersHouse_1F_EventScript_GetSSTicketAndSeeLatiTV
	.2byte 0

Trashburg_MaysHouse_1F_EventScript_GoUpstairsToSetClock::
	lockall
	msgbox PlayersHouse_1F_Text_GoSetTheClock, MSGBOX_DEFAULT
	closemessage
	applymovement LOCALID_PLAYER, Trashburg_MaysHouse_1F_Movement_PushTowardStairs
	applymovement LOCALID_PLAYERS_HOUSE_1F_MOM, Trashburg_MaysHouse_1F_Movement_PushTowardStairs
	waitmovement 0
	warp MAP_TRASHBURG_MAYS_HOUSE_2F, 1, 1
	waitstate
	releaseall
	end

Trashburg_MaysHouse_1F_Movement_PushTowardStairs:
	walk_up
	step_end

Trashburg_MaysHouse_1F_EventScript_EnterHouseMovingIn::
	lockall
	setvar VAR_0x8004, LOCALID_PLAYERS_HOUSE_1F_MOM
	setvar VAR_0x8005, FEMALE
	goto PlayersHouse_1F_EventScript_EnterHouseMovingIn
	end

Trashburg_MaysHouse_1F_EventScript_GiantsReachGymReport::
	lockall
	setvar VAR_0x8004, FEMALE
	setvar VAR_0x8005, LOCALID_PLAYERS_HOUSE_1F_MOM
	goto PlayersHouse_1F_EventScript_GiantsReachGymReportFemale
	end

Trashburg_MaysHouse_1F_EventScript_YoureNewNeighbor::
	lockall
	playse SE_PIN
	applymovement LOCALID_RIVALS_HOUSE_1F_MOM, Common_Movement_ExclamationMark
	waitmovement 0
	applymovement LOCALID_RIVALS_HOUSE_1F_MOM, Common_Movement_Delay48
	waitmovement 0
	applymovement LOCALID_PLAYER, Common_Movement_WalkInPlaceFasterRight
	applymovement LOCALID_RIVALS_HOUSE_1F_MOM, Trashburg_MaysHouse_1F_Movement_RivalMomApproach
	waitmovement 0
	special GetRivalSonDaughterString
	msgbox RivalsHouse_1F_Text_OhYoureTheNewNeighbor, MSGBOX_DEFAULT
	setflag FLAG_MET_RIVAL_MOM
	setvar VAR_TRASHBURG_HOUSES_STATE_BRENDAN, 2
	releaseall
	end

Trashburg_MaysHouse_1F_Movement_RivalMomApproach:
	walk_down
	walk_left
	walk_left
	walk_left
	walk_left
	walk_left
	step_end

RivalsHouse_1F_EventScript_RivalMom::
	lock
	faceplayer
	goto_if_set FLAG_DEFEATED_RIVAL_ROUTE103, RivalsHouse_1F_EventScript_GoHomeEverySoOften
	goto_if_set FLAG_SYS_POKEMON_GET, RivalsHouse_1F_EventScript_RivalIsOnRoute103
	goto_if_eq VAR_TRASHBURG_RIVAL_STATE, 3, RivalsHouse_1F_EventScript_RivalTooBusy
	special GetRivalSonDaughterString
	msgbox RivalsHouse_1F_Text_LikeChildLikeFather, MSGBOX_DEFAULT
	release
	end

RivalsHouse_1F_EventScript_RivalTooBusy::
	msgbox RivalsHouse_1F_Text_TooBusyToNoticeVisit, MSGBOX_DEFAULT
	release
	end

RivalsHouse_1F_EventScript_RivalIsOnRoute103::
	msgbox RivalsHouse_1F_Text_WentOutToRoute103, MSGBOX_DEFAULT
	release
	end

RivalsHouse_1F_EventScript_GoHomeEverySoOften::
	msgbox RivalsHouse_1F_Text_ShouldGoHomeEverySoOften, MSGBOX_DEFAULT
	release
	end

RivalsHouse_1F_EventScript_RivalSibling::
	lock
	faceplayer
	special GetPlayerBigGuyGirlString
	msgbox RivalsHouse_1F_Text_DoYouHavePokemon, MSGBOX_DEFAULT
	release
	end

Trashburg_MaysHouse_1F_EventScript_GoSeeRoom::
	lockall
	setvar VAR_0x8004, LOCALID_PLAYERS_HOUSE_1F_MOM
	setvar VAR_0x8005, FEMALE
	applymovement VAR_0x8004, Common_Movement_WalkInPlaceFasterRight
	waitmovement 0
	goto PlayersHouse_1F_EventScript_MomGoSeeRoom
	end

Trashburg_MaysHouse_1F_EventScript_MeetRival0::
	lockall
	setvar VAR_0x8008, 0
	goto Trashburg_MaysHouse_1F_EventScript_MeetRival
	end

Trashburg_MaysHouse_1F_EventScript_MeetRival1::
	lockall
	setvar VAR_0x8008, 1
	goto Trashburg_MaysHouse_1F_EventScript_MeetRival
	end

Trashburg_MaysHouse_1F_EventScript_MeetRival2::
	lockall
	setvar VAR_0x8008, 2
	goto Trashburg_MaysHouse_1F_EventScript_MeetRival
	end

Trashburg_MaysHouse_1F_EventScript_MeetRival::
	playse SE_EXIT
	delay 10
	addobject LOCALID_RIVALS_HOUSE_1F_RIVAL
	delay 30
	playse SE_PIN
	applymovement LOCALID_RIVALS_HOUSE_1F_RIVAL, Common_Movement_ExclamationMark
	waitmovement 0
	applymovement LOCALID_RIVALS_HOUSE_1F_RIVAL, Common_Movement_Delay48
	waitmovement 0
	call_if_ne VAR_0x8008, 1, Trashburg_MaysHouse_1F_EventScript_PlayerFaceMay
	playbgm MUS_ENCOUNTER_MAY, TRUE
	call_if_eq VAR_0x8008, 0, Trashburg_MaysHouse_1F_EventScript_MayApproachPlayer0
	call_if_eq VAR_0x8008, 1, Trashburg_MaysHouse_1F_EventScript_MayApproachPlayer1
	call_if_eq VAR_0x8008, 2, Trashburg_MaysHouse_1F_EventScript_MayApproachPlayer2
	msgbox RivalsHouse_1F_Text_MayWhoAreYou, MSGBOX_DEFAULT
	closemessage
	call_if_eq VAR_0x8008, 0, Trashburg_MaysHouse_1F_EventScript_MayGoUpstairs0
	call_if_eq VAR_0x8008, 1, Trashburg_MaysHouse_1F_EventScript_MayGoUpstairs1
	call_if_eq VAR_0x8008, 2, Trashburg_MaysHouse_1F_EventScript_MayGoUpstairs2
	playse SE_EXIT
	removeobject LOCALID_RIVALS_HOUSE_1F_RIVAL
	setflag FLAG_HIDE_TRASHBURG_MAYS_HOUSE_MAY
	setflag FLAG_HIDE_TRASHBURG_MAYS_HOUSE_2F_POKE_BALL
	clearflag FLAG_HIDE_TRASHBURG_MAYS_HOUSE_RIVAL_BEDROOM
	delay 30
	setvar VAR_TRASHBURG_RIVAL_STATE, 3
	setvar VAR_TRASHBURG_STATE, 1
	savebgm MUS_DUMMY
	fadedefaultbgm
	releaseall
	end

Trashburg_MaysHouse_1F_EventScript_PlayerFaceMay::
	applymovement LOCALID_PLAYER, Common_Movement_WalkInPlaceFasterDown
	waitmovement 0
	return

Trashburg_MaysHouse_1F_EventScript_MayApproachPlayer0::
	applymovement LOCALID_RIVALS_HOUSE_1F_RIVAL, Trashburg_MaysHouse_1F_Movement_MayApproachPlayer0
	waitmovement 0
	return

Trashburg_MaysHouse_1F_EventScript_MayApproachPlayer1::
	applymovement LOCALID_RIVALS_HOUSE_1F_RIVAL, Trashburg_MaysHouse_1F_Movement_MayApproachPlayer1
	waitmovement 0
	return

Trashburg_MaysHouse_1F_EventScript_MayApproachPlayer2::
	applymovement LOCALID_RIVALS_HOUSE_1F_RIVAL, Trashburg_MaysHouse_1F_Movement_MayApproachPlayer2
	waitmovement 0
	return

Trashburg_MaysHouse_1F_Movement_MayApproachPlayer0:
	walk_in_place_faster_left
	walk_left
	walk_in_place_faster_up
	walk_up
	walk_up
	walk_up
	walk_up
	step_end

Trashburg_MaysHouse_1F_Movement_MayApproachPlayer1:
	walk_up
	walk_up
	walk_up
	step_end

Trashburg_MaysHouse_1F_Movement_MayApproachPlayer2:
	walk_in_place_faster_right
	walk_right
	walk_in_place_faster_up
	walk_up
	walk_up
	walk_up
	walk_up
	step_end

Trashburg_MaysHouse_1F_EventScript_MayGoUpstairs0::
	applymovement LOCALID_PLAYER, Trashburg_MaysHouse_1F_Movement_PlayerWatchMayExit0
	applymovement LOCALID_RIVALS_HOUSE_1F_RIVAL, Trashburg_MaysHouse_1F_Movement_MayGoUpstairs0
	waitmovement 0
	return

Trashburg_MaysHouse_1F_EventScript_MayGoUpstairs1::
	applymovement LOCALID_PLAYER, Trashburg_MaysHouse_1F_Movement_PlayerWatchMayExit1
	applymovement LOCALID_RIVALS_HOUSE_1F_RIVAL, Trashburg_MaysHouse_1F_Movement_MayGoUpstairs1
	waitmovement 0
	return

Trashburg_MaysHouse_1F_EventScript_MayGoUpstairs2::
	applymovement LOCALID_PLAYER, Trashburg_MaysHouse_1F_Movement_PlayerWatchMayExit2
	applymovement LOCALID_RIVALS_HOUSE_1F_RIVAL, Trashburg_MaysHouse_1F_Movement_MayGoUpstairs2
	waitmovement 0
	return

Trashburg_MaysHouse_1F_Movement_PlayerWatchMayExit0:
	delay_16
	delay_8
	walk_in_place_faster_right
	step_end

Trashburg_MaysHouse_1F_Movement_PlayerWatchMayExit1:
	delay_16
	delay_8
	walk_in_place_faster_right
	delay_16
	delay_16
	walk_in_place_faster_up
	step_end

Trashburg_MaysHouse_1F_Movement_PlayerWatchMayExit2:
	delay_16
	delay_8
	walk_in_place_faster_left
	step_end

Trashburg_MaysHouse_1F_Movement_MayGoUpstairs0:
	walk_in_place_faster_right
	walk_right
	walk_in_place_faster_up
	walk_up
	walk_up
	step_end

Trashburg_MaysHouse_1F_Movement_MayGoUpstairs1:
	walk_in_place_faster_right
	walk_right
	walk_in_place_faster_up
	walk_up
	walk_up
	walk_in_place_faster_left
	walk_left
	walk_in_place_faster_up
	walk_up
	step_end

Trashburg_MaysHouse_1F_Movement_MayGoUpstairs2:
	walk_in_place_faster_left
	walk_left
	walk_in_place_faster_up
	walk_up
	walk_up
	step_end

RivalsHouse_1F_Text_OhYoureTheNewNeighbor:
	.string "Oh… hello.\p"
	.string "Who are you and why are you here?\p"
	.string "… … … … … … … … …\n"
	.string "… … … … … … … … …\p"
	.string "Oh..... {PLAYER}...\n"
	.string "You just moved in next door?\p"
	.string "We weren’t told about new neighbors.\n"
	.string "We don’t like surprises.\p"
	.string "Our daughter Margaret is upstairs.\p"
	.string "She doesn't talk,\n"
	.string "but she sees everything.$"

RivalsHouse_1F_Text_LikeChildLikeFather:
	.string "Ah, just like her brothers.\p"
	.string "They speak to the milk.\n"
	.string "She listens in silence.\p"
	.string "We try not to interfere.\p"
	.string "The Pokémon understand her.$"

RivalsHouse_1F_Text_TooBusyToNoticeVisit:
	.string "That Margaret.\p"
	.string "So focused… always watching\n"
	.string "things that aren't there.\p"
	.string "She probably knew you were here\n"
	.string "before you even knocked, {PLAYER}.$"

RivalsHouse_1F_Text_WentOutToRoute103:
	.string "Margaret wandered off to ROUTE 103.\p"
	.string "Sometimes she follows wild Pokémon.\n"
	.string "Sometimes… they follow her.$"

RivalsHouse_1F_Text_ShouldGoHomeEverySoOften:
	.string "Traveling with Pokémon is dangerous.\n"
	.string "But that’s the way of things.\p"
	.string "You should visit your mother often.\p"
	.string "She might not say it, but I'm sure she\n"
	.string "worries about you, {PLAYER}.$"

RivalsHouse_1F_Text_MayWhoAreYou:
	.string "… … …\p"
	.string "The girl stares blankly at you.\p"
	.string "… … … … … … … …\n"
	.string "… … … … … … … …\p"
	.string "She doesn't speak, she doesn’t\n"
	.string "blink.\l"
	.string "You feel observed.\p"
	.string "She is licking her lips\n"
	.string "while staring into your soul.\p"
	.string "She goes around you… silently.\p"
	.string "Time feels slower in this room.$"

RivalsHouse_1F_Text_BrendanWhoAreYou:
	.string "Hey!\n"
	.string "You…\p"
	.string "Who are you?\p"
	.string "Oh, you're {PLAYER}, aren't you?\n"
	.string "Moved in next door, right?\p"
	.string "I didn't know that you're a girl.\p"
	.string "Dad, PROF. Frank, said that our new\n"
	.string "next-door neighbor is a GYM LEADER's\l"
	.string "kid, so I assumed you'd be a guy.\p"
	.string "My name's BRENDAN.\n"
	.string "So, hi, neighbor!\p"
	.string "Huh? Hey, {PLAYER}, don't you have\n"
	.string "a POKéMON?\p"
	.string "Do you want me to go catch you one?\p"
	.string "Aw, darn, I forgot…\p"
	.string "I'm supposed to go help my dad catch\n"
	.string "some wild POKéMON.\p"
	.string "Some other time, okay?$"

RivalsHouse_1F_Text_DoYouHavePokemon:
	.string "… … … … … … … …\p"
	.string "I want to be just like my sister\n"
	.string "when I grow up!\p"
	.string "She smiles and licks her lips\n"
	.string "… … … … … … … …$"
